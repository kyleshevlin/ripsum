<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ripsum Demo Page</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="header">
    <h1>Ripsum</h1>
  </header>

  <article>
    <p>
      Ripsum is a small Ruby gem that adds a helper method for outputting random amounts of lorem ipsum <em>per</em> page load. Each time you refresh, you get a new set of words.
    </p>
    <p>
      The philosophy behind Ripsum is simple: designs should be stress tested. Don't fill your page with perfect, static text. You'll never find the problems that way. Instead, randomize your text to find edge cases you otherwise wouldn't notice. <strong>The next paragraph is an example of Ripsum in action.</strong>
    </p>

    <p id="ripsum"></p>
  </article>

  <script>
    function ready(fn) {
      if (document.readyState != 'loading'){
        fn();
      } else {
        document.addEventListener('DOMContentLoaded', fn);
      }
    }

    function getRipsum() {
      var request = new XMLHttpRequest();
      request.open('GET', 'https://ripsum.herokuapp.com/100/50', true);

      request.onload = function() {
        if (request.status >= 200 && request.status < 400) {
          // Success!
          var resp = request.responseText;
          addRipsum(resp.data);
        } else {
          // We reached our target server, but it returned an error
        }
      };

      request.onerror = function() {
        // There was a connection error of some sort
      };

      request.send();
    }

    function addRipsum(text) {
      var el = document.getElementById('ripsum');
      el.textContent = text;
    }

    ready(getRipsum);
  </script>
</body>
</html>